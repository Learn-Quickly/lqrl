{"openapi":"3.0.3","info":{"title":"web-server","description":"","license":{"name":""},"version":"0.1.0"},"paths":{"/api/course/archive_course":{"put":{"tags":["creator_course"],"operationId":"api_archive_course_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseId"}}},"required":true},"responses":{"200":{"description":""}},"security":[{"bearerAuth":[]}]}},"/api/course/create_course_draft":{"post":{"tags":["creator_course"],"operationId":"api_create_course_draft_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseCreateDraftPayload"}}},"required":true},"responses":{"200":{"description":"Course draft created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatedCourseDraft"}}}},"500":{"description":"Course already exists. The title must be unique"}},"security":[{"bearerAuth":[]}]}},"/api/course/get_attendants":{"get":{"tags":["creator_course"],"operationId":"api_get_attendants","parameters":[{"name":"course_id","in":"query","required":true,"schema":{"type":"integer","format":"int64"},"example":1000},{"name":"list_options","in":"query","required":false,"schema":{"type":"string","nullable":true},"example":"{\"limit\": 5, \"offset\": 2}"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserPayload"}}}}}},"security":[{"bearerAuth":[]}]}},"/api/course/get_course/{course_id}":{"get":{"tags":["user_course"],"operationId":"api_get_course_handler","parameters":[{"name":"course_id","in":"path","description":"ID of the course","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoursePayload"}}}}},"security":[{"bearerAuth":[]}]}},"/api/course/get_courses/":{"get":{"tags":["user_course"],"operationId":"api_get_courses_handler","parameters":[{"name":"filters","in":"query","required":false,"schema":{"type":"string","nullable":true},"example":"[{\"price\": {\"$gte\": 40, \"$lte\": 70}}, {\"color\": {\"$eq\": \"indigo\"}}]"},{"name":"list_options","in":"query","required":false,"schema":{"type":"string","nullable":true},"example":"{\"limit\": 5, \"offset\": 2, \"order_bys\": \"!price\"}"}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoursePayload"}}}}}},"security":[{"bearerAuth":[]}]}},"/api/course/get_created_courses":{"get":{"tags":["creator_course"],"operationId":"api_get_created_courses_handler","responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoursePayload"}}}}}},"security":[{"bearerAuth":[]}]}},"/api/course/get_user_courses_registered/":{"get":{"tags":["student_course"],"operationId":"api_get_user_courses_registered_handler","responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoursePayload"}}}}}},"security":[{"bearerAuth":[]}]}},"/api/course/lesson/change_order":{"put":{"tags":["creator_lesson"],"operationId":"api_lesson_change_order_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonChangeOrderPayload"}}},"required":true},"responses":{"200":{"description":"Lesson order updated successfully"}},"security":[{"bearerAuth":[]}]}},"/api/course/lesson/create":{"post":{"tags":["creator_lesson"],"operationId":"api_create_lesson_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonCreatePayload"}}},"required":true},"responses":{"200":{"description":"Lesson created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonCreatedPayload"}}}}},"security":[{"bearerAuth":[]}]}},"/api/course/lesson/delete":{"delete":{"tags":["creator_lesson"],"operationId":"api_delete_lesson_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonDeletePayload"}}},"required":true},"responses":{"200":{"description":"Lesson deleted successfully"}},"security":[{"bearerAuth":[]}]}},"/api/course/lesson/get_lesson_progresses":{"get":{"tags":["student_lesson_progress"],"operationId":"api_get_lesson_progresses_handler","parameters":[{"name":"course_id","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":""}},"security":[{"bearerAuth":[]}]}},"/api/course/lesson/get_lessons/{course_id}":{"get":{"tags":["user_lesson"],"operationId":"api_get_lessons_handler","parameters":[{"name":"course_id","in":"path","description":"ID of the course","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoursePayload"}}}}},"security":[{"bearerAuth":[]}]}},"/api/course/lesson/start_lesson":{"put":{"tags":["student_lesson"],"operationId":"api_start_lesson_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonCreatePayload"}}},"required":true},"responses":{"200":{"description":"Lesson started successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonCreatedPayload"}}}}},"security":[{"bearerAuth":[]}]}},"/api/course/lesson/update":{"put":{"tags":["creator_lesson"],"operationId":"api_update_lesson_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonUpdatePayload"}}},"required":true},"responses":{"200":{"description":"Lesson updated successfully"}},"security":[{"bearerAuth":[]}]}},"/api/course/publish_course":{"put":{"tags":["creator_course"],"operationId":"api_publish_course_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseId"}}},"required":true},"responses":{"200":{"description":""}},"security":[{"bearerAuth":[]}]}},"/api/course/register_for_course":{"put":{"tags":["student_course"],"operationId":"api_register_for_course_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseId"}}},"required":true},"responses":{"200":{"description":""}},"security":[{"bearerAuth":[]}]}},"/api/course/set_course_img/{course_id}":{"put":{"tags":["creator_course"],"operationId":"api_set_course_img_handler","parameters":[{"name":"course_id","in":"path","description":"ID of the course for which we set an avatar","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"multipart/formdata":{"schema":{"type":"string","format":"binary"}}},"required":true},"responses":{"200":{"description":"Course image successfully set"}},"security":[{"bearerAuth":[]}]}},"/api/course/unsubscribe_from_course":{"put":{"tags":["student_course"],"operationId":"api_unsubscribe_from_course_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseId"}}},"required":true},"responses":{"200":{"description":""}},"security":[{"bearerAuth":[]}]}},"/api/course/update":{"put":{"tags":["creator_course"],"operationId":"api_update_course_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseUpdatePayload"}}},"required":true},"responses":{"200":{"description":""}},"security":[{"bearerAuth":[]}]}},"/api/login":{"post":{"tags":["login"],"operationId":"api_login_handler","responses":{"200":{"description":"Login successful"},"403":{"description":"Login failed"}},"security":[{"basicAuth":[]}]}},"/api/refresh_token":{"post":{"tags":["login"],"operationId":"api_refresh_access_token_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenPayload"}}},"required":true},"responses":{"200":{"description":"Token refreshed successfully"},"403":{"description":"Token refresh failed"}}}},"/api/register":{"post":{"tags":["register"],"operationId":"api_register_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterPayload"}}},"required":true},"responses":{"200":{"description":"Register successful"}}}},"/api/user/change_pwd":{"put":{"tags":["user"],"operationId":"api_change_pwd_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserChangePwdPayload"}}},"required":true},"responses":{"200":{"description":""}},"security":[{"bearerAuth":[]}]}},"/api/user/get_user/{user_id}":{"get":{"tags":["user"],"operationId":"api_get_user_by_id_handler","parameters":[{"name":"user_id","in":"path","description":"ID of the user","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDataPayload"}}}}},"security":[{"bearerAuth":[]}]}},"/api/user/get_user_data":{"get":{"tags":["user"],"operationId":"api_get_user_data_handler","responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDataPayload"}}}}},"security":[{"bearerAuth":[]}]}},"/api/user/update":{"put":{"tags":["user"],"operationId":"api_update_user_handler","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdatePayload"}}},"required":true},"responses":{"200":{"description":"Course updated successfully"}},"security":[{"bearerAuth":[]}]}}},"components":{"schemas":{"CourseCreateDraftPayload":{"type":"object","required":["title","description","course_type","price","color"],"properties":{"color":{"type":"string"},"course_type":{"type":"string"},"description":{"type":"string"},"price":{"type":"number","format":"double"},"title":{"type":"string"}}},"CourseFilterPayload":{"type":"object","properties":{"filters":{"type":"string","nullable":true},"list_options":{"type":"string","nullable":true}}},"CourseId":{"type":"object","required":["course_id"],"properties":{"course_id":{"type":"integer","format":"int64"}}},"CoursePayload":{"type":"object","required":["id","title","description","course_type","price","color","state"],"properties":{"color":{"type":"string"},"course_type":{"type":"string"},"description":{"type":"string"},"id":{"type":"integer","format":"int64"},"img_url":{"type":"string","nullable":true},"price":{"type":"number","format":"double"},"published_date":{"type":"integer","format":"int64","nullable":true},"state":{"$ref":"#/components/schemas/CourseStatePayload"},"title":{"type":"string"}}},"CourseStatePayload":{"type":"string","enum":["Draft","Published","Archived"]},"CourseUpdatePayload":{"type":"object","required":["id"],"properties":{"color":{"type":"string","nullable":true},"course_type":{"type":"string","nullable":true},"description":{"type":"string","nullable":true},"id":{"type":"integer","format":"int64"},"price":{"type":"number","format":"double","nullable":true},"title":{"type":"string","nullable":true}}},"CreatedCourseDraft":{"type":"object","required":["course_id"],"properties":{"course_id":{"type":"integer","format":"int64"}}},"GetAttendatsPayload":{"type":"object","required":["course_id"],"properties":{"course_id":{"type":"integer","format":"int64"},"list_options":{"type":"string","nullable":true}}},"GetLessonProgressesPayload":{"type":"object","required":["course_id"],"properties":{"course_id":{"type":"integer","format":"int64"}}},"LessonChangeOrderPayload":{"type":"object","required":["lesson_id","order"],"properties":{"lesson_id":{"type":"integer","format":"int64"},"order":{"type":"integer","format":"int32"}}},"LessonCreatePayload":{"type":"object","required":["course_id","title","description"],"properties":{"course_id":{"type":"integer","format":"int64"},"description":{"type":"string"},"title":{"type":"string"}}},"LessonCreatedPayload":{"type":"object","required":["lesson_id"],"properties":{"lesson_id":{"type":"integer","format":"int64"}}},"LessonDataPayload":{"type":"object","required":["id","course_id","title","lesson_order"],"properties":{"course_id":{"type":"integer","format":"int64"},"id":{"type":"integer","format":"int64"},"lesson_order":{"type":"integer","format":"int32"},"title":{"type":"string"}}},"LessonDeletePayload":{"type":"object","required":["lesson_id"],"properties":{"lesson_id":{"type":"integer","format":"int64"}}},"LessonProgressPayload":{"type":"object","required":["user_id","lesson_id","date_started","state"],"properties":{"date_complete":{"type":"integer","format":"int64","nullable":true},"date_started":{"type":"integer","format":"int64"},"lesson_id":{"type":"integer","format":"int64"},"state":{"type":"string"},"user_id":{"type":"integer","format":"int64"}}},"LessonUpdatePayload":{"type":"object","required":["lesson_id","title"],"properties":{"lesson_id":{"type":"integer","format":"int64"},"title":{"type":"string"}}},"RefreshTokenPayload":{"type":"object","required":["refresh_token"],"properties":{"refresh_token":{"type":"string","example":"dGVzdHVzZXI.MjAyNC0wOC0xN1QwNDo0ODowOS4xNjq3XjU0NTha.MjcedibXB_UadS2vIG2lPfwlukqw5Ir-DIO_zwwmn9dQqd0oeozAi3Aa99f4UlC8ETrJjRiZNMHjyIsyEaqgDA"}}},"RegisterPayload":{"type":"object","required":["username","pwd"],"properties":{"pwd":{"type":"string","example":"test_pwd"},"username":{"type":"string","example":"username_test"}}},"StartLessonPayload":{"type":"object","required":["lesson_id"],"properties":{"lesson_id":{"type":"integer","format":"int64"}}},"UserChangePwdPayload":{"type":"object","required":["pwd_clear","new_pwd_clear"],"properties":{"new_pwd_clear":{"type":"string"},"pwd_clear":{"type":"string"}}},"UserDataPayload":{"type":"object","required":["id","username"],"properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"}}},"UserPayload":{"type":"object","required":["id","username"],"properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"}}},"UserUpdatePayload":{"type":"object","required":["username"],"properties":{"username":{"type":"string"}}}},"securitySchemes":{"basicAuth":{"type":"http","scheme":"basic"},"bearerAuth":{"type":"http","scheme":"bearer"}}},"tags":[{"name":"LQRL","description":"A great Rust backend API for the awesome LQRL project"}]}